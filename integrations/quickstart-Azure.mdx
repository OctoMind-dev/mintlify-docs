---
title: "Integrate with Azure DevOps"
description: "Run an Azure DevOps task to get Octomind test results into your pull request comments"
icon: "microsoft"
---

## CI/CD pipeline integration
In order to integrate Octomind into your CI/CD pipeline, you will need a Azure DevOps Task and a Azure Pipeline Extension.

<Frame caption="Octomind Azure Flow">
  <img src="/images/Octomind-Azure-flow.jpg" alt="GitHub flow" />
</Frame>

### 1. Setup CI Task

Include the following `Azure DevOps Task` into your CI/CD build pipeline on pull
request. See [azure task docs](https://github.com/OctoMind-dev/automagically-azure-devops-task-execute) for more details.

```yml
- task: automagicallyexecute@2
  inputs:
    url: <publicly accessible url to your deployment>
    token: ${{ secrets.OCTOMIND_API_KEY }}
    testTargetId: <your testTargetId from your octomind project>
    blocking: false
```

<div class="mt-8" />

<Warning>
  Please make sure to integrate the GitHub action **AFTER** your deployment
  step. You have to link octomind to your publicly accessible app / branch deployment url to run tests on it.
</Warning>

<Expandable title="how to create an API key">
    <Snippet file="snippet-apiKey.mdx" />
</Expandable>

<Expandable title="how to get your test target id">
    <Snippet file="snippet-testTarget.mdx" />
</Expandable>

<div class="mt-8" />

### 2. Install Azure DevOps pipeline extension
<Info> 
We need read and write access to pull requests ONLY so we are allowed to comment back with test results.
We won't be able to see your code.
</Info>

<Tip>
  Install pipeline extension from here: [pipelines
  extension](https://marketplace.visualstudio.com/items?itemName=octomind.automagically-execute-task)
</Tip>

<Frame caption="Octomind Azure install, screenshot 06/2023">
  <img src="/images/azure-install.png" alt="Octomind Azure install" />
</Frame>


### 3. Set user permissions

Make sure that your `build service user` also has permissions to comment to pull requests. To do so, navigate to the
Project Settings > Repos > Repositories > Security tab and allow the 'contribute to pull request' flag.

<Frame caption="Octomind Azure pipeline permissions, screenshot 06/2023">
  <img src="/images/azure-permissions.png" alt="Octomind Azure permissions" />
</Frame>

### 4. See it in action
Octomind automatically runs tests on your pull request, and comments with a summary in your PR.

<Frame caption="Example of Octomind test results in a pull request comment, screenshot 07/2023">
  <img
    src="/images/dev.azure.com_octomind-dev_test-pipeline-task__git_test-pipeline-task_pullrequest_1.png"
    alt="Example of Octomind test results in a pull request comment in Azure DevOps, screenshot 06/2023"
  />
</Frame>

